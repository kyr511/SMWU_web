<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>책 상세 정보</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script>
    const aladinKey = 'ttb86709j0613001';

    async function getBookDetail(isbn) {
      const url = `https://www.aladin.co.kr/ttb/api/ItemLookUp.aspx?ttbkey=${aladinKey}&itemIdType=ISBN&ItemId=${isbn}&output=js&Version=20131101`;
      const response = await fetch(url);
      const data = await response.json();
      return data.item[0];
    }

    document.addEventListener('DOMContentLoaded', async () => {
      const params = new URLSearchParams(window.location.search);
      const isbn = params.get('isbn');

      if (!isbn) return;

      const book = await getBookDetail(isbn);
      document.getElementById('book-title').textContent = book.title;
      document.getElementById('book-author').textContent = book.author;
      document.getElementById('book-date').textContent = `출간일: ${book.pubDate}`;
      document.getElementById('book-img').src = book.cover;
      document.getElementById('book-desc').textContent = book.description || '설명이 없습니다.';
    });
  </script>
</head>
<body>
  <div class="container py-4">
    <h1 id="book-title">책 제목</h1>
    <img id="book-img" class="img-fluid mb-3" src="https://via.placeholder.com/120x180" alt="책 표지">
    <p id="book-author">저자: </p>
    <p id="book-date">출간일: </p>
    <p id="book-desc">책 소개</p>
  </div>
</body>
</html>